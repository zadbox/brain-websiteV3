/opt/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_fields.py:132: UserWarning: Field "model_name" in HuggingFaceInferenceAPIEmbeddings has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
/Users/abderrahim_boussyf/brain-website___V3/rag_system/working_server.py:447: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [46157]
INFO:     Waiting for application startup.
/Users/abderrahim_boussyf/brain-website___V3/rag_system/working_server.py:89: LangChainDeprecationWarning: The class `HuggingFaceEmbeddings` was deprecated in LangChain 0.2.2 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-huggingface package and should be used instead. To use it run `pip install -U :class:`~langchain-huggingface` and import as `from :class:`~langchain_huggingface import HuggingFaceEmbeddings``.
  embeddings = HuggingFaceEmbeddings(
/Users/abderrahim_boussyf/brain-website___V3/rag_system/working_server.py:93: LangChainDeprecationWarning: The class `Chroma` was deprecated in LangChain 0.2.9 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-chroma package and should be used instead. To use it run `pip install -U :class:`~langchain-chroma` and import as `from :class:`~langchain_chroma import Chroma``.
  vectorstore = Chroma(
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Redis connection failed, using in-memory storage: Error 8 connecting to redis:6379. nodename nor servname provided, or not known.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
üß† BrainGenTechnology Working RAG Server
==================================================
üöÄ Initializing BrainGenTechnology Working RAG Server...
‚ùå Groq initialization failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
‚úÖ Vectorstore loaded with 56 documents
‚úÖ Session manager initialized
‚úÖ Laravel bridge initialized
üìä System Status:
   Groq API: ‚ùå
   Vectorstore: ‚úÖ
   Session Manager: ‚úÖ
   Laravel Bridge: ‚úÖ
INFO:     127.0.0.1:51295 - "GET /health HTTP/1.1" 200 OK
‚ùå Error storing conversation: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/conversations (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x118ba16a0>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
‚ùå Error storing message: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/messages (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c841e50>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
INFO:     127.0.0.1:51299 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:51315 - "GET /health HTTP/1.1" 200 OK
‚ùå Error storing conversation: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/conversations (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c843250>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
‚ùå Error storing message: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/messages (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c88c9d0>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
INFO:     127.0.0.1:51320 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:51337 - "GET /health HTTP/1.1" 200 OK
‚ùå Error storing conversation: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/conversations (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c88d220>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
‚ùå Error storing message: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/messages (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c7fb890>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
INFO:     127.0.0.1:51343 - "POST /chat HTTP/1.1" 200 OK
‚ùå Error storing conversation: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/conversations (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c757570>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
‚ùå Error storing message: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/messages (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c756ad0>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
INFO:     127.0.0.1:51411 - "POST /chat HTTP/1.1" 200 OK
/opt/anaconda3/lib/python3.13/site-packages/pydantic/_internal/_fields.py:132: UserWarning: Field "model_confidence" in LeadQualification has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
/Users/abderrahim_boussyf/brain-website___V3/rag_system/chains/qualification_chain.py:87: LangChainDeprecationWarning: The class `LLMChain` was deprecated in LangChain 0.1.17 and will be removed in 1.0. Use :meth:`~RunnableSequence, e.g., `prompt | llm`` instead.
  self.qualification_chain = LLMChain(
/Users/abderrahim_boussyf/brain-website___V3/rag_system/chains/qualification_chain.py:240: LangChainDeprecationWarning: The method `Chain.acall` was deprecated in langchain 0.1.0 and will be removed in 1.0. Use :meth:`~ainvoke` instead.
  result = await self.qualification_chain.acall({
Qualification error for session rag_1756844215723_sy5mca3p4: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Qualification chain returned error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Parser failed, using working_server fallback: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
‚ùå Qualification error for session rag_1756844215723_sy5mca3p4: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
üìã Lead rag_1756844215723_sy5mca3p4 not sales ready (score: 30)
INFO:     127.0.0.1:51413 - "POST /qualify HTTP/1.1" 200 OK
Qualification error for session rag_1756844215723_sy5mca3p4: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Qualification chain returned error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Parser failed, using working_server fallback: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
‚ùå Qualification error for session rag_1756844215723_sy5mca3p4: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
üìã Lead rag_1756844215723_sy5mca3p4 not sales ready (score: 30)
INFO:     127.0.0.1:51429 - "POST /qualify HTTP/1.1" 200 OK
‚ùå Error storing conversation: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/conversations (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c899260>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
‚ùå Error storing message: HTTPConnectionPool(host='braintech-laravel', port=80): Max retries exceeded with url: /api/messages (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x16c899040>: Failed to resolve 'braintech-laravel' ([Errno 8] nodename nor servname provided, or not known)"))
INFO:     127.0.0.1:51437 - "POST /chat HTTP/1.1" 200 OK
Qualification error for session rag_1756844192632_kaxsvc3ww: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Qualification chain returned error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Parser failed, using working_server fallback: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
‚ùå Qualification error for session rag_1756844192632_kaxsvc3ww: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
üìã Lead rag_1756844192632_kaxsvc3ww not sales ready (score: 30)
INFO:     127.0.0.1:51439 - "POST /qualify HTTP/1.1" 200 OK
Qualification error for session rag_1756844192632_kaxsvc3ww: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Qualification chain returned error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
Parser failed, using working_server fallback: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
‚ùå Qualification error for session rag_1756844192632_kaxsvc3ww: Chain error: Qualification analysis failed: Error code: 400 - {'error': {'message': 'The model `llama3-70b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
üìã Lead rag_1756844192632_kaxsvc3ww not sales ready (score: 30)
INFO:     127.0.0.1:51446 - "POST /qualify HTTP/1.1" 200 OK
